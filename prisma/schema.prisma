generator zod {
  provider              = "zod-prisma"
  output                = "../src/zod-schemas"
  relationModel         = true
  modelCase             = "PascalCase"
  modelSuffix           = "Model"
  useDecimalJs          = true
  imports               = "../src/zod-schemas"
  prismaJsonNullability = true
}

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id            String @id @default(uuid())
  email         String @unique
  passwordHash  String
  userAuthToken String @unique

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  role   Roles @relation(fields: [roleId], references: [id])
  roleId Int
}

model Roles {
  id   Int    @id @default(autoincrement())
  name String @unique
  User User[]
}

model LostCat {
  id             Int       @id @default(autoincrement())
  name           String
  race           CatRace   @relation(fields: [raceId], references: [id])
  raceId         Int
  sex            Sex       @relation(fields: [sexId], references: [id])
  sexId          Int
  castrated      Boolean?
  color          Color     @relation(fields: [colorId], references: [id])
  colorId        Int
  age            Int?
  dateLost       DateTime
  cityLost       String?
  description    String
  photoUrl       String?
  chipped        Boolean?
  chipNumber     String?   @unique
  collar         String?
  ownerName      String
  ownerEmail     String
  ownerStreet    String
  ownerCity      String
  ownerPhone     String?
  ownerCellphone String?
  comments       String?
  rip            Boolean?
  dateReported   DateTime
  location       Location? @relation(fields: [locationId], references: [id])
  locationId     Int?
}

model CatRace {
  id      Int       @id @default(autoincrement())
  name    String    @unique
  enabled Boolean   @default(true)
  LostCat LostCat[]
}

model Location {
  id      Int       @id @default(autoincrement())
  name    String    @unique
  enabled Boolean   @default(true)
  LostCat LostCat[]
}

model Sex {
  id      Int       @id @default(autoincrement())
  name    String    @unique
  enabled Boolean   @default(true)
  LostCat LostCat[]
}

model Color {
  id      Int       @id @default(autoincrement())
  name    String    @unique
  enabled Boolean   @default(true)
  LostCat LostCat[]
}
